<div class="ion-page" id="main-content">
  <ion-header>
    <ion-toolbar>
      <ion-buttons slot="start">
        <ion-menu-button></ion-menu-button>
      </ion-buttons>
      <ion-title class="ion-text-center">Voucher</ion-title>
    </ion-toolbar>
  </ion-header>
  <ion-content>
    <div *ngIf="voucher.length > 0">
      <ion-segment [value]="segment" (ionChange)="segmentChanged($event)">
        <ion-segment-button value="All" id="All">
          <ion-label>All</ion-label>
        </ion-segment-button>
        <ion-segment-button value="Aktif" id="Aktif">
          <ion-label>Aktif</ion-label>
        </ion-segment-button>
        <ion-segment-button value="Nonaktif" id="Nonaktif">
          <ion-label>Nonaktif</ion-label>
        </ion-segment-button>
      </ion-segment>

      <ion-list>
        <ion-item-sliding *ngFor="let v of voucher_temp">
          <ion-item [button]="true" (click)="detail(v.id)">
            <ion-card (click)="detail(v.id)">
              <ion-grid [fixed]="true">
                <ion-row>
                  <ion-col size="2">
                    <img
                      alt="Silhouette of mountains"
                      src="http://localhost:8080/uploads/client/{{v.o_foto}}"
                    />
                  </ion-col>
                  <ion-col>
                    <ion-card-content>
                      <ion-card-title>{{v.o_namaVoucher}}</ion-card-title>
                      <ion-card-subtitle>
                        Diambil {{v.o_ambil}}/{{v.o_stokVoucher}}
                      </ion-card-subtitle>
                      <ion-card-subtitle>
                        Diklaim {{v.o_klaim}}/{{v.o_ambil}}
                      </ion-card-subtitle>
                      <ion-card-subtitle>
                        Berlaku dari tanggal {{v.o_tanggalMulai |
                        date:'dd-MM-yyyy'}} sampai tanggal {{v.o_tanggalAkhir |
                        date:'dd-MM-yyyy'}}
                      </ion-card-subtitle>
                    </ion-card-content>
                  </ion-col>
                </ion-row>
              </ion-grid>
            </ion-card>
          </ion-item>
          <ion-item-options slot="end">
            <ion-item-option color="warning" (click)="detailUpdate(v.id)">
              <ion-icon slot="icon-only" name="pin"></ion-icon>
            </ion-item-option>
            <ion-item-option color="danger" (click)="hapus(v.id)">
              <ion-icon slot="icon-only" name="trash"></ion-icon>
            </ion-item-option>
          </ion-item-options>
        </ion-item-sliding>
      </ion-list>
    </div>

    <div id="container" *ngIf="voucher.length === 0 ">
      <strong>Silahkan tambah Voucher</strong>
      <p>
        Klik tombol <ion-icon name="add"></ion-icon> di pojok kanan bawah lalu
        <ion-icon name="add-circle-outline"></ion-icon> untuk menambahkan
        voucher
      </p>
    </div>

    <ion-fab slot="fixed" vertical="bottom" horizontal="end">
      <ion-fab-button>
        <ion-icon name="add"></ion-icon>
      </ion-fab-button>
      <ion-fab-list side="top">
        <ion-fab-button data-desc="tambah voucher" (click)="tambah()">
          <ion-icon name="add-circle-outline"></ion-icon>
        </ion-fab-button>
        <ion-fab-button data-desc="refresh" (click)="loadData()">
          <ion-icon name="refresh-outline"></ion-icon>
        </ion-fab-button>
      </ion-fab-list>
    </ion-fab>
  </ion-content>
</div>
