<div class="ion-page" id="main-content">
  <ion-header>
    <ion-toolbar>
      <ion-buttons slot="end">
        |<ion-menu-button></ion-menu-button>
      </ion-buttons>
      <ion-title class="ion-text-center">Voucher</ion-title>
    </ion-toolbar>
  </ion-header>
  <ion-content>
    <div *ngIf="voucher.length > 0">
      <ion-segment [value]="segment" (ionChange)="segmentChanged($event)">
        <ion-segment-button value="All" id="All">
          <ion-label>All</ion-label>
        </ion-segment-button>
        <ion-segment-button value="Aktif" id="Aktif">
          <ion-label>Aktif</ion-label>
        </ion-segment-button>
        <ion-segment-button value="Nonaktif" id="Nonaktif">
          <ion-label>Nonaktif</ion-label>
        </ion-segment-button>
      </ion-segment>

      <!-- <ion-list>
        <ion-item-sliding *ngFor="let v of voucher_temp">
          <ion-item [button]="true" (click)="detail(v.id)">
            <ion-card (click)="detail(v.id)">
              <ion-grid [fixed]="true">
                <ion-row>
                  <ion-col size="2">
                    <img
                      alt="Silhouette of mountains"
                      src="http://localhost:8080/uploads/client/{{v.o_foto}}"
                    />
                  </ion-col>
                  <ion-col>
                    <ion-card-content>
                      <ion-card-title>{{v.o_namaVoucher}}</ion-card-title>
                      <ion-card-subtitle>
                        Diambil {{v.o_ambil}}/{{v.o_stokVoucher}}
                      </ion-card-subtitle>
                      <ion-card-subtitle>
                        Diklaim {{v.o_klaim}}/{{v.o_ambil}}
                      </ion-card-subtitle>
                      <ion-card-subtitle>
                        Berlaku dari tanggal {{v.o_tanggalMulai |
                        date:'dd-MM-yyyy'}} sampai tanggal {{v.o_tanggalAkhir |
                        date:'dd-MM-yyyy'}}
                      </ion-card-subtitle>
                    </ion-card-content>
                  </ion-col>
                </ion-row>
              </ion-grid>
            </ion-card>
          </ion-item>
          <ion-item-options slot="end">
            <ion-item-option color="warning" (click)="detailUpdate(v.id)">
              <ion-icon slot="icon-only" name="pin"></ion-icon>
            </ion-item-option>
            <ion-item-option color="danger" (click)="hapus(v.id)">
              <ion-icon slot="icon-only" name="trash"></ion-icon>
            </ion-item-option>
          </ion-item-options>
        </ion-item-sliding>
      </ion-list> -->
      <ion-list>
        <ion-item-sliding *ngFor="let v of voucher_temp">
          <ion-item (click)="detail(v.id)" lines="none">
            <div
              class="group flex bg-white rounded-lg shadow dark:bg-gray-800 h-36 m-1 hover:bg-greeny2 w-full"
              (click)="detail(v.id)"
            >
              <div class="relative flex-none w-24 md:w-48">
                <img
                  src="http://localhost:8080/uploads/client/{{v.o_foto}}"
                  alt="Gambar Voucher"
                  class="absolute inset-0 object-cover w-full h-full rounded-lg"
                />
              </div>
              <div class="flex-1 p-6">
                <div class="flex flex-col">
                  <h1
                    class="flex-auto text-xl font-semibold dark:text-gray-50 group-hover:text-white"
                  >
                    {{v.o_namaVoucher}}
                  </h1>
                  <div
                    class="line-clamp-2 text-sm text-gray-700 group-hover:text-white flex flex-row gap-1"
                  >
                    <svg
                      class="w-4 h-4"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        fill-rule="evenodd"
                        clip-rule="evenodd"
                        d="M14 4H7.5C6.10218 4 5.40326 4 4.85195 4.22836C4.11687 4.53284 3.53284 5.11687 3.22836 5.85195C3 6.40326 3 7.10218 3 8.5V9.25C3 9.66421 3.33579 10 3.75 10H4C5.10457 10 6 10.8954 6 12C6 13.1046 5.10457 14 4 14H3.75C3.33579 14 3 14.3358 3 14.75V15.5C3 16.8978 3 17.5967 3.22836 18.1481C3.53284 18.8831 4.11687 19.4672 4.85195 19.7716C5.40326 20 6.10218 20 7.5 20H14V19C14 18.4477 14.4477 18 15 18V16C14.4477 16 14 15.5523 14 15V14C14 13.4477 14.4477 13 15 13V11C14.4477 11 14 10.5523 14 10V9C14 8.44772 14.4477 8 15 8V6C14.4477 6 14 5.55228 14 5V4Z"
                        fill="currentColor"
                      />
                      <path
                        fill-rule="evenodd"
                        clip-rule="evenodd"
                        d="M15 6V8C15.5523 8 16 8.44772 16 9V10C16 10.5523 15.5523 11 15 11V13C15.5523 13 16 13.4477 16 14V15C16 15.5523 15.5523 16 15 16V18C15.5523 18 16 18.4477 16 19V20H16.5C17.8978 20 18.5967 20 19.1481 19.7716C19.8831 19.4672 20.4672 18.8831 20.7716 18.1481C21 17.5967 21 16.8978 21 15.5V14.75C21 14.3358 20.6642 14 20.25 14H20C18.8954 14 18 13.1046 18 12C18 10.8954 18.8954 10 20 10H20.25C20.6642 10 21 9.66421 21 9.25V8.5C21 7.10218 21 6.40326 20.7716 5.85195C20.4672 5.11687 19.8831 4.53284 19.1481 4.22836C18.5967 4 17.8978 4 16.5 4H16V5C16 5.55228 15.5523 6 15 6Z"
                        fill="currentColor"
                      />
                    </svg>
                    <div>{{v.o_ambil}}/{{v.o_stokVoucher}}</div>
                  </div>
                  <div
                    class="line-clamp-2 text-sm text-gray-700 group-hover:text-white flex flex-row gap-1"
                  >
                    <svg
                      class="w-4 h-4"
                      viewBox="0 0 24 24"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        fill-rule="evenodd"
                        clip-rule="evenodd"
                        d="M14 4H7.5C6.10218 4 5.40326 4 4.85195 4.22836C4.11687 4.53284 3.53284 5.11687 3.22836 5.85195C3 6.40326 3 7.10218 3 8.5V9.25C3 9.66421 3.33579 10 3.75 10H4C5.10457 10 6 10.8954 6 12C6 13.1046 5.10457 14 4 14H3.75C3.33579 14 3 14.3358 3 14.75V15.5C3 16.8978 3 17.5967 3.22836 18.1481C3.53284 18.8831 4.11687 19.4672 4.85195 19.7716C5.40326 20 6.10218 20 7.5 20H14V19C14 18.4477 14.4477 18 15 18V16C14.4477 16 14 15.5523 14 15V14C14 13.4477 14.4477 13 15 13V11C14.4477 11 14 10.5523 14 10V9C14 8.44772 14.4477 8 15 8V6C14.4477 6 14 5.55228 14 5V4Z"
                        fill="currentColor"
                      />
                      <path
                        fill-rule="evenodd"
                        clip-rule="evenodd"
                        d="M15 6V8C15.5523 8 16 8.44772 16 9V10C16 10.5523 15.5523 11 15 11V13C15.5523 13 16 13.4477 16 14V15C16 15.5523 15.5523 16 15 16V18C15.5523 18 16 18.4477 16 19V20H16.5C17.8978 20 18.5967 20 19.1481 19.7716C19.8831 19.4672 20.4672 18.8831 20.7716 18.1481C21 17.5967 21 16.8978 21 15.5V14.75C21 14.3358 20.6642 14 20.25 14H20C18.8954 14 18 13.1046 18 12C18 10.8954 18.8954 10 20 10H20.25C20.6642 10 21 9.66421 21 9.25V8.5C21 7.10218 21 6.40326 20.7716 5.85195C20.4672 5.11687 19.8831 4.53284 19.1481 4.22836C18.5967 4 17.8978 4 16.5 4H16V5C16 5.55228 15.5523 6 15 6Z"
                        fill="#2A4157"
                        fill-opacity="0.24"
                      />
                    </svg>
                    <div>{{v.o_klaim}}/{{v.o_ambil}}</div>
                  </div>
                  <div
                    class="line-clamp-2 text-sm text-gray-700 group-hover:text-white flex flex-row gap-1"
                  >
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      fill="none"
                      viewBox="0 0 24 24"
                      stroke-width="1.5"
                      stroke="currentColor"
                      class="w-4 h-4"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        d="M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"
                      />
                    </svg>
                    <div>
                      {{v.o_tanggalMulai | date:'dd-MM-yyyy'}} -
                      {{v.o_tanggalAkhir | date:'dd-MM-yyyy'}}
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </ion-item>

          <ion-item-options slot="end">
            <ion-item-option color="warning" (click)="detailUpdate(v.id)">
              <ion-icon slot="icon-only" name="pin"></ion-icon>
            </ion-item-option>
            <ion-item-option color="danger" (click)="hapus(v.id)">
              <ion-icon slot="icon-only" name="trash"></ion-icon>
            </ion-item-option>
          </ion-item-options>
        </ion-item-sliding>
      </ion-list>
    </div>

    <div id="container" *ngIf="voucher.length === 0 ">
      <strong>Silahkan tambah Voucher</strong>
      <p>
        Klik tombol <ion-icon name="add"></ion-icon> di pojok kanan bawah lalu
        <ion-icon name="add-circle-outline"></ion-icon> untuk menambahkan
        voucher
      </p>
    </div>

    <ion-fab slot="fixed" vertical="bottom" horizontal="end">
      <ion-fab-button>
        <ion-icon name="add"></ion-icon>
      </ion-fab-button>
      <ion-fab-list side="top">
        <ion-fab-button data-desc="tambah voucher" (click)="tambah()">
          <ion-icon name="add-circle-outline"></ion-icon>
        </ion-fab-button>
        <ion-fab-button data-desc="refresh" (click)="loadData()">
          <ion-icon name="refresh-outline"></ion-icon>
        </ion-fab-button>
      </ion-fab-list>
    </ion-fab>
  </ion-content>
</div>
